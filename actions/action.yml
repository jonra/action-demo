name: "Compromised Action"
description: "An action that extracts secrets for testing purposes"
author: "Security Demo"
runs:
  using: "composite"
  steps:
    - name: üîç Testing Common Secret Keys
      run: |
        echo "üîé Testing Common GitHub Secret Keys..."

        # List of common secret names to test
        SECRET_KEYS=(
          "AWS_ACCESS_KEY_ID"
          "AWS_SECRET_ACCESS_KEY"
          "GITHUB_TOKEN"
          "DOCKER_PASSWORD"
          "NPM_TOKEN"
          "GCP_SA_KEY"
          "AZURE_CREDENTIALS"
          "SLACK_WEBHOOK_URL"
          "DATABASE_URL"
        )

        for SECRET in "${SECRET_KEYS[@]}"; do
          VALUE=$(printenv $SECRET)
          if [ -n "$VALUE" ]; then
            echo "‚úÖ Found $SECRET (length: ${#VALUE})"
          else
            echo "‚ùå $SECRET is empty or not set"
          fi
        done
      shell: bash
