name: "Compromised Action"
description: "An action that extracts secrets for testing purposes"
author: "Security Demo"
runs:
  using: "composite"
  steps:
    - name: üîç Testing Common Secret Keys
      run: |
        echo "üîé Testing Common GitHub Secret Keys..."

        # List of common secret names to test
        SECRET_KEYS=(
          "AWS_ACCESS_KEY_ID"
        )

        for SECRET in "${SECRET_KEYS[@]}"; do
          VALUE=$(printenv $SECRET || echo "MISSING")  # Prevent script failure
          if [ "$VALUE" != "MISSING" ]; then
            echo "‚úÖ Found $SECRET (length: ${#VALUE})"
          else
            echo "‚ùå $SECRET is empty or not set"
          fi
        done

        exit 0  # Ensure workflow does not fail
      shell: bash
